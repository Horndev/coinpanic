{"version":3,"sources":["angular-webicon-core.min.js"],"names":["window","angular","createInjector","fn","injector","name","provider","error","baseProvider","providers","Error","console","instances","hasOwnProperty","di","Object","keys","forEach","has","ready","listeners","listener","push","ScopeCollection","this","collection","prototype","add","scope","SvgCumulativeIconSetScope","FontIconSetScope","unshift","preload","force","Promise","promises","item","value","then","length","all","map","promise","getIconScope","iconId","params","resolve","hasIcon","scopes","index","reject","getIcon","SvgIconSet","element","options","nodes","node","iconSize","viewBox","iconIdResolver","svgOptions","log","parseSvgOptions","SvgIcon","nodeWrapper","icons","getAttribute","querySelectorAll","cloneNode","e","warn","loadByUrl","url","loadSvgByUrl","notExists","ids","filter","id","exists","getIconById","merge","iconSet","self","mergeByUrl","IconManager","_collections","_defaultCollectionId","_defaultSvgIconSize","DEFAULT_SVG_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","urlConfig","getExt","split","slice","toLowerCase","ext","addImageIcon","addSvgIcon","SvgIconScope","_getSingleIconsCollection","ImageIconScope","addSvgIconSet","ScopeConstructor","SvgIconSetScope","cumulative","_getCollection","addFontIconSet","cssClassConfig","addSpriteIconSet","SpriteIconSetScope","addIconSetAlias","alias","setDefaultIconSet","setDefaultSvgIconSize","getDefaultSvgIconSize","names","collections","namesSet","useSetOfNames","forceAll","iconSetPromisesMap","indexOf","Array","isArray","String","iconSets","parts","delimiterPosition","apply","test","hasSingleIcon","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","alt","expectAria","attrName","defaultValue","childHasAttribute","isHidden","style","currentStyle","getComputedStyle","display","children","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","attr","parentsHaveText","parent","text","prop","icon","pieces","ICON_CLASS","join","hasClass","addClass","httpGet","el","response","append","data","svgElement","find","first","message","responseText","statusText","api","iconManager","svgSet","font","sprite","sourceAlias","defaultSvgSetUrl","defaultSource","defaultSvgIconSize","extension","defaultIconSetUrl","defaultSvgIconSetUrl","head","styleEl","styleContent","document","outerHTML","prepend","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","render","getClassList","getAddedClassList","classList","currClassList","addedClassName","cleaner","removeClass","AbstractElementIcon","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","query","buildUrlParams","bind","SpriteIcon","SPRITE_ICON_CLASS","svgNode","attributes","styles","defaultAttributes","SVG_ICON_CLASS","removeAttr","tagName","setAttribute","xmlns","version","fit","preserveAspectRatio","parseFloat","AbstractCssClassIconSetScope","cssClassResolver","AbstractScope","_classResolver","parseCssClassResolver","classResolver","_resolveCssClass","AbstractRemoteResourceScope","_urlResolver","parseUrlResolver","_preloadable","preloadable","_cache","_resource","urlFn","mergeObjects","_params","arguments","location","protocol","_getResource","_resolveUrl","_loadResource","resource","AbstractRemoteSvgResourceScope","_iconIdParser","parseIconIdResolver","iconIdParser","_iconIdResolver","_parseIconId","_resolveIconId","DEFAULT_WAIT_DURATION","waitDuration","waitPromise","waitIconIds","timeout","IconDirective","$webicon","restrict","link","attrs","initIconElement","altAttrName","$normalize","$attr","webicon","$observe","$inject","IconProvider","lazyPreload","$get","$injector","iconService","ensureDependenciesRegistered","invoke","$promise","$checkLazyPreload","args","key","encodeURIComponent","registered","get","$http","$templateCache","cache","ensureDigestDecorator","$rootScope","$$phase","$apply","deferred","$q","defer","when","$timeout","delay","to","_merge","from","module","config","$provide","$compileProvider","directive","run"],"mappings":"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","file":"angular-webicon-core.min.js","sourcesContent":[";(function(window, angular) {\n\n'use strict';\n\ndi('ScopeCollection', function(injector) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = injector('SvgCumulativeIconSetScope'),\n        FontIconSetScope = injector('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function(force) {\n      var\n        Promise = injector('Promise'),\n        promises = [];\n\n      this.collection.forEach(function(item) {\n        var\n          value;\n        value = item.preload(force);\n        if (value && typeof value == 'object' && typeof value.then == 'function') {\n          promises.push(value);\n        }\n      });\n\n      if (promises.length > 0) {\n        return Promise.all(\n          promises.map(function(promise) {\n            return promise.then(null, function() {\n              return null;\n            })\n          })\n        )\n          .then(function() {\n            return null;\n          });\n      }\n      else {\n        return null;\n      }\n    },\n\n    getIconScope: function(iconId, params) {\n      var\n        Promise = injector('Promise'),\n        SvgCumulativeIconSetScope = injector('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId, params))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId, params)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(injector) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = injector('log'),\n      parseSvgOptions = injector('parseSvgOptions'),\n      SvgIcon = injector('SvgIcon'),\n      nodeWrapper = injector('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox,\n      iconIdResolver,\n      svgOptions\n      ;\n\n    iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : function(value) {\n        return value;\n      };\n    svgOptions = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = svgOptions.viewBox || element[0].getAttribute('viewBox');\n    iconSize = svgOptions.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[iconIdResolver(node.getAttribute('id'))] = new SvgIcon(nodeWrapper(node.cloneNode(true)), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n    this.iconIdResolver = iconIdResolver;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = injector('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction createInjector(fn) {\n  var\n    providers = {},\n    instances = {};\n\n  Object.keys(di.providers).forEach(function(name) {\n    providers[name] = di.providers[name];\n  });\n\n  function injector(name, provider) {\n    var\n      error,\n      baseProvider;\n\n    if (provider) {\n      if (instances.hasOwnProperty(name)) {\n        error = new Error('Cannot override instantiated service \"' + name + '\"');\n        console.error(error);\n        throw error;\n      }\n      if (typeof provider != 'function') {\n        console.error('Provider \"' + name + '\" is not a function');\n        return;\n      }\n      if (providers.hasOwnProperty(name)) {\n        baseProvider = providers[name];\n        providers[name] = function(di) {\n          return new provider(di, new baseProvider(di));\n        };\n      }\n      else {\n        providers[name] = provider;\n      }\n    }\n    else {\n      if (!providers[name]) {\n        error = new Error('Cannot found service provider \"' + name + '\"');\n        console.error(error);\n        throw error;\n      }\n      if (!instances.hasOwnProperty(name)) {\n        try {\n          instances[name] = new providers[name](injector);\n        }\n        catch(error) {\n          console.error(error);\n          throw error;\n        }\n      }\n      return instances[name];\n    }\n  }\n\n  injector.has = function(name) {\n    return providers.hasOwnProperty(name);\n  };\n\n  injector('ready', function(injector) {\n    return function(fn) {\n      if (typeof fn == 'function') {\n        fn(injector);\n      }\n      else if (fn) {\n        console.error('Ready listener not a function');\n      }\n    }\n  });\n\n  if (fn) {\n    if (typeof fn == 'function') {\n      fn(injector);\n    }\n    else {\n      console.error('Injector initializer not a function');\n    }\n  }\n\n  (ready.listeners || []).forEach(function(listener) {\n    listener(injector);\n  });\n\n  return injector;\n}\n'use strict';\n\nfunction di(name, provider) {\n  var\n    baseProvider,\n    providers;\n\n  providers = di.providers = di.providers || {};\n\n  if (typeof provider != 'function') {\n    console.error('Provider \"' + name + '\" is not a function');\n    return;\n  }\n  if (providers.hasOwnProperty(name)) {\n    baseProvider = providers[name];\n    providers[name] = function(di) {\n      return new provider(di, new baseProvider(di));\n    };\n  }\n  else {\n    providers[name] = provider;\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(injector) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_SVG_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultSvgIconSize = DEFAULT_SVG_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg' || !ext\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return url\n            .split('?')[0]\n            .split(/[/\\\\]/)\n            .slice(-1)[0]\n            .split('.')\n            .slice(-1)[0]\n            .toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = injector('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = injector('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = injector('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = injector('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, cssClassConfig, options) {\n      var\n        FontIconSetScope = injector('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, cssClassConfig, options));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, cssClassConfig, options) {\n      var\n        SpriteIconSetScope = injector('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, cssClassConfig, options));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultSvgIconSize: function(iconSize) {\n      this._defaultSvgIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultSvgIconSize: function() {\n      return this._defaultSvgIconSize;\n    },\n\n    preload: function(names) {\n      var\n        self = this,\n        collections = this._collections,\n        namesSet = {},\n        useSetOfNames = false,\n        forceAll = false,\n        promise,\n        promises = [],\n        iconSetPromisesMap = {},\n        Promise = injector('Promise');\n\n      if (['string', 'number'].indexOf(typeof names) != -1) {\n        names = [names];\n      }\n      if (names && typeof names == 'object') {\n        (\n          Array.isArray(names)\n            ? names\n            : Object.keys(names)\n        )\n          .forEach(function(name) {\n            namesSet[String(name).toLowerCase()] = true;\n          });\n        useSetOfNames = true;\n      }\n      else if (names) {\n        forceAll = true;\n      }\n\n      Object.keys(collections).forEach(function(id) {\n        var\n          value;\n        value = collections[id].preload(\n          forceAll || (useSetOfNames && namesSet.hasOwnProperty(String(id).toLowerCase()))\n        );\n        if (value && typeof value == 'object' && typeof value.then == 'function') {\n          promises.push(value);\n          if (id != SINGLE_ICONS_COLLECTION_ID) {\n            iconSetPromisesMap[id] = value\n              .then(function() {\n                return self._getCollection(id);\n              });\n          }\n        }\n      });\n\n      promise = Promise.all(promises);\n      promise.iconSets = iconSetPromisesMap;\n      return promise;\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId, params)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id, params) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id, params);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = injector('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = injector('log'),\n      Promise = injector('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function(injector) {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function(injector) {\n\n  return function initIconElement(element, alt, icon) {\n    var\n      ICON_CLASS = 'webicon',\n      pieces\n      ;\n\n    if (!alt && typeof alt != 'string') {\n      icon = String(icon || '')\n        .split(':')\n        .slice(-1)[0]\n        .trim();\n\n      if (/[/\\\\.]/.test(icon)) {\n        pieces = icon\n          .split(/[/\\\\]/)\n          .slice(-1)[0]\n          .split('.');\n\n        if (pieces.length > 1) {\n          pieces = pieces\n            .slice(0, -1);\n        }\n        alt = pieces\n          .join('.');\n      }\n      else {\n        alt = icon\n          .split(/\\s/)\n          [0];\n      }\n\n    }\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(injector) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = injector('httpGet'),\n      log = injector('log'),\n      Promise = injector('Promise'),\n      el = injector('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function(injector) {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(injector) {\n  var \n    iconManager = injector('iconManager'),\n    ready = injector('ready'),\n    api;\n\n  api = {\n    icon: function(id, urlConfig, options) {\n      iconManager.addIcon(id, urlConfig, options);\n      return this;\n    },\n\n    svgSet: function(id, urlConfig, options) {\n      iconManager.addSvgIconSet(id, urlConfig, options);\n      return this;\n    },\n\n    font: function(id, cssClassConfig, options) {\n      iconManager.addFontIconSet(id, cssClassConfig, options);\n      return this;\n    },\n\n    sprite: function(id, cssClassConfig, options) {\n      iconManager.addSpriteIconSet(id, cssClassConfig, options);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultSvgSetUrl: function(url, options) {\n      iconManager\n        .addSvgIconSet(url, url, options)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultSvgIconSize: function(iconSize) {\n      iconManager.setDefaultSvgIconSize(iconSize);\n      return this;\n    },\n\n    preload: function(names, fn) {\n      var\n        promise;\n\n      if (typeof names == 'function') {\n        fn = names;\n        names = null;\n      }\n\n      promise = iconManager.preload(names);\n      fn && fn(promise);\n\n      return this;\n    },\n\n    extension: ready\n\n  };\n\n  api.iconSet = api.svgSet;\n  api.defaultIconSetUrl = api.defaultSvgSetUrl;\n  api.defaultSvgIconSetUrl = api.defaultSvgSetUrl;\n  api.alias = api.sourceAlias;\n  api.default = api.defaultSource;\n\n  return api;\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    listeners;\n\n  listeners = ready.listeners = ready.listeners || [];\n\n  if (typeof fn == 'function') {\n    listeners.push(fn);\n  }\n  else if (fn) {\n    console.error('Ready listener not a function');\n  }\n\n}\n\n'use strict';\n\nready(function(injector) {\n  var\n    nodeWrapper = injector('nodeWrapper'),\n    head,\n    styleEl,\n    styleContent;\n\n  styleContent = '<style type=\"text/css\">@charset \"UTF-8\";webicon,[webicon],[data-webicon],.webicon,.webicon{display:inline-block;}.svg-webicon svg{fill:currentColor;}</style>';\n\n  head = nodeWrapper(window.document).find('head');\n  styleEl = head.find('style')[0];\n\n  if (styleEl) {\n    if (styleEl.outerHTML == styleContent) {\n      return;\n    }\n  }\n\n  head.prepend(styleContent);\n\n});\n'use strict';\n\ndi('AbstractCssClassIcon', function(injector) {\n  var\n    AbstractIcon = injector('AbstractIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function(injector) {\n  var\n    AbstractIcon = injector('AbstractIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function(injector) {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function(injector) {\n  var\n    AbstractCssClassIcon = injector('AbstractCssClassIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'font-webicon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(injector) {\n  var\n    AbstractElementIcon = injector('AbstractElementIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'image-webicon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = injector('buildUrlParams'),\n      nodeWrapper = injector('nodeWrapper'),\n      Promise = injector('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function(injector) {\n  var\n    AbstractCssClassIcon = injector('AbstractCssClassIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'sprite-webicon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(injector) {\n  var\n    AbstractElementIcon = injector('AbstractElementIcon'),\n    inherit = injector('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'svg-webicon',\n      nodeWrapper = injector('nodeWrapper'),\n      iconManager = injector('iconManager'),\n      parseSvgOptions = injector('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      width,\n      height,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    [\n      'id',\n      'x',\n      'y'\n    ].forEach(function(attr) {\n        element.removeAttr(attr);\n      });\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(nodeWrapper(node).children());\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultSvgIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox\n    };\n\n    if (!attributes.viewBox) {\n      width = node.getAttribute('width');\n      height = node.getAttribute('height');\n      if (width !== null && height !== null ) {\n        attributes.viewBox = '0 0 ' + parseFloat(width) + ' ' + parseFloat(height);\n      }\n    }\n    attributes.viewBox = attributes.viewBox || '0 0 ' + iconSize + ' ' + iconSize;\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = injector('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(injector) {\n  var\n    AbstractScope = injector('AbstractScope'),\n    inherit = injector('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, cssClassResolver, options) {\n    AbstractScope.call(this, id, options);\n\n    this._classResolver = parseCssClassResolver(cssClassResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope, {\n\n    _resolveCssClass: function(className, params) {\n      return this._classResolver(className, params);\n    }\n\n  });\n\n  function parseCssClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(injector) {\n  var\n    AbstractScope = injector('AbstractScope'),\n    inherit = injector('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig, options) {\n    AbstractScope.call(this, id, options);\n\n    this._urlResolver = parseUrlResolver(urlConfig);\n    this._preloadable = this.options.preloadable || typeof this.options.preloadable == 'undefined';\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function(force) {\n      return this._preloadable || force\n        ? this._getResource()\n        : null;\n    },\n\n    _resolveUrl: function(url) {\n      return this._urlResolver(url);\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = injector('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = injector('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      url = String(url || '');\n      if (url.slice(0, 2) === '//') {\n        url = window.document.location.protocol + url;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(injector) {\n  var\n    AbstractRemoteResourceScope = injector('AbstractRemoteResourceScope'),\n    inherit = injector('inherit'),\n    parseSvgOptions = injector('parseSvgOptions')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, options) {\n    var\n      svgOptions = parseSvgOptions(options),\n      self = this;\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig, options);\n\n    Object.keys(svgOptions)\n      .forEach(function(name) {\n        self.options[name] = svgOptions[name];\n      });\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function(injector) {\n\n  function AbstractScope(id, options) {\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.id = id;\n    this.options = options;\n\n    this._iconIdParser = parseIconIdResolver(options.iconIdParser);\n    this._iconIdResolver = parseIconIdResolver(options.iconIdResolver);\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return null;\n    },\n\n    hasIcon: function() {\n      return true;\n    },\n\n    _parseIconId: function(iconId, params) {\n      return this._iconIdParser(iconId, params);\n    },\n\n    _resolveIconId: function(iconId) {\n      return this._iconIdResolver(iconId);\n    }\n\n  };\n\n  return AbstractScope;\n\n  function parseIconIdResolver(value) {\n    return typeof value == 'function'\n      ? value\n      : function(value) {\n        return value;\n      };\n  }\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(injector) {\n  var\n    AbstractCssClassIconSetScope = injector('AbstractCssClassIconSetScope'),\n    inherit = injector('inherit')\n    ;\n\n  function FontIconSetScope(id, cssClassResolver, options) {\n    AbstractCssClassIconSetScope.call(this, id, cssClassResolver, options);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = injector('FontIcon');\n      return new FontIcon(this._resolveCssClass(this._parseIconId(iconId, params), params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(injector) {\n  var\n    AbstractRemoteResourceScope = injector('AbstractRemoteResourceScope'),\n    inherit = injector('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig, options) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = injector('ImageIcon');\n      return ImageIcon.loadByUrl(this._resolveUrl());\n    },\n\n    hasIcon: function(iconId, params) {\n      return this._parseIconId(iconId, params) == this._resolveIconId(this.id);\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(injector) {\n  var\n    AbstractCssClassIconSetScope = injector('AbstractCssClassIconSetScope'),\n    inherit = injector('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver, options) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver, options);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        SpriteIcon = injector('SpriteIcon');\n      return new SpriteIcon(this._resolveCssClass(this._parseIconId(iconId, params), params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(injector) {\n  var\n    AbstractRemoteSvgResourceScope = injector('AbstractRemoteSvgResourceScope'),\n    inherit = injector('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n\n    this.waitDuration = this.options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = injector('SvgIconSet');\n      return SvgIconSet.loadByUrl(this._resolveUrl(this.waitIconIds), this.options);\n    },\n\n    preload: function() {\n      return null;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = injector('Promise'),\n        timeout = injector('timeout'),\n        self = this;\n\n      iconId = this._parseIconId(iconId, params);\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self._resolveUrl(self._resource.notExists(self.waitIconIds)),\n            self.options\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(injector) {\n  var\n    AbstractRemoteSvgResourceScope = injector('AbstractRemoteSvgResourceScope'),\n    inherit = injector('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, options) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = injector('SvgIcon');\n      return SvgIcon.loadByUrl(this._resolveUrl(), this.options);\n    },\n\n    hasIcon: function(iconId, params) {\n      return this._parseIconId(iconId, params) == this._resolveIconId(this.id);\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(injector) {\n  var\n    AbstractRemoteSvgResourceScope = injector('AbstractRemoteSvgResourceScope'),\n    inherit = injector('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, options) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = injector('SvgIconSet');\n      return SvgIconSet.loadByUrl(this._resolveUrl(), this.options);\n    },\n\n    hasIcon: function(iconId, params) {\n      iconId = this._parseIconId(iconId, params);\n\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = injector('Promise');\n\n      iconId = this._parseIconId(iconId, params);\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\ndi('IconDirective', function(injector) {\n\n  /**\n   * @ngdoc directive\n   * @name webicon\n   * @module webicon\n   *\n   * @restrict EA\n   *\n   * @description\n   */\n\n  function IconDirective($webicon) {\n    return {\n      restrict: 'EA',\n      scope: true,\n      link: function (scope, element, attrs) {\n        var\n          initIconElement = injector('initIconElement'),\n          altAttrName = attrs.$normalize(attrs.$attr.alt || ''),\n          alt,\n          attrName =  attrs.$normalize(attrs.$attr.icon || attrs.$attr.webicon || ''),\n          cleaner = null\n          ;\n\n        alt = altAttrName\n          ? attrs[altAttrName]\n          : null;\n\n        initIconElement(element, alt, attrs[attrName]);\n\n        if (attrName) {\n          attrs.$observe(attrName, function(icon) {\n            cleaner && cleaner();\n            cleaner = null;\n            if (icon) {\n              $webicon(icon).then(function(icon) {\n                cleaner = icon.render(element);\n              });\n            }\n          });\n        }\n\n      }\n    };\n  }\n\n  IconDirective.$inject = [\n    '$webicon'\n  ];\n\n  return IconDirective;\n\n});\n\n\n\n'use strict';\n\ndi('IconProvider', function(injector) {\n\n  /**\n   * @ngdoc service\n   * @name $webiconProvider\n   * @module webicon\n   *\n   * @description\n   *\n   */\n\n  function IconProvider() {\n    var\n      lazyPreload = [];\n\n    this.preload = function() {\n      lazyPreload.push(\n        Array.prototype.slice.call(arguments)\n      );\n      return this;\n    };\n\n    this.$get = ['$injector', function($injector) {\n      var\n        iconManager = injector('iconManager'),\n        ensureDependenciesRegistered = injector('ensureDependenciesRegistered'),\n        iconService;\n\n      ensureDependenciesRegistered($injector);\n\n      iconService = function(id) {\n        return iconManager.getIcon(id);\n      };\n      iconService.preload = function(names, fn) {\n        var\n          promise;\n\n        if (typeof names == 'function' || (Array.isArray(names) && typeof names.slice(-1)[0] == 'function')) {\n          fn = names;\n          names = null;\n        }\n\n        promise = iconManager.preload(names);\n        if (fn) {\n          $injector.invoke(fn, null, {\n            $promise: promise\n          });\n        }\n        return promise;\n      };\n\n      iconService.$checkLazyPreload = function() {\n        var\n          self = this;\n\n        if (lazyPreload.length) {\n          lazyPreload.forEach(function(args) {\n            self.preload.apply(\n              self,\n              args\n            );\n          });\n        }\n      };\n\n      return iconService;\n    }];\n\n  }\n\n  IconProvider.prototype = injector('publicApi');\n\n  return IconProvider;\n});\n\n\n'use strict';\n\ndi('buildUrlParams', function(injector) {\n\n  return function buildUrlParams(params) {\n    var\n      parts = [];\n\n    params = params || {};\n    Object.keys(params)\n      .filter(function() {\n        return typeof params[key] != 'undefined' && params[key] !== null;\n      })\n      .map(function(key) {\n        return !Array.isArray(params[key])\n          ? [params[key]]\n          : params[key];\n      })\n      .forEach(function(key) {\n        params[key].forEach(function(value) {\n          parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(value + ''));\n        });\n      });\n\n    return parts.join('&');\n  };\n\n});\n'use strict';\n\ndi('ensureDependenciesRegistered', function(injector) {\n  var\n    registered = false;\n\n  return function ensureDependenciesRegistered($injector) {\n    if (registered) {\n      return;\n    }\n\n    injector('$injector', function() {\n      return $injector;\n    });\n\n    injector('log', function() {\n      return $injector.get('$log');\n    });\n\n    injector('httpGet', function() {\n      var\n        $http = $injector.get('$http'),\n        $templateCache = $injector.get('$templateCache')\n        ;\n\n      return function(url, params) {\n        var\n          options = {\n            cache: $templateCache\n          };\n        if (params && typeof params == 'object' && Object.keys(params).length > 0) {\n          options.params = params;\n        }\n        return $http.get(url, options);\n      }\n    });\n\n    injector('Promise', function() {\n      var\n        $q = $injector.get('$q'),\n        $rootScope = $injector.get('$rootScope');\n\n      function ensureDigestDecorator(fn) {\n        return function() {\n          var\n            args = Array.prototype.slice.call(arguments);\n\n          if (!$rootScope.$$phase) {\n            $rootScope.$apply(function() {\n              fn.apply(this, args);\n            })\n          }\n          else {\n            fn.apply(this, args);\n          }\n        }\n      }\n\n      function Promise(value) {\n        var\n          deferred;\n        if (typeof value != 'function') {\n          return Promise.resolve(value);\n        }\n        deferred = $q.defer();\n        value(\n          ensureDigestDecorator(deferred.resolve),\n          ensureDigestDecorator(deferred.reject)\n        );\n        return deferred.promise;\n      }\n\n      Promise.reject = $q.reject;\n      Promise.resolve = $q.when;\n      Promise.all = $q.all;\n\n      return Promise;\n    });\n\n    injector('timeout', function() {\n      var\n        $timeout = $injector.get('$timeout');\n\n      return function(fn, delay) {\n        if (typeof fn != 'function') {\n          delay = fn;\n          fn = function() {};\n        }\n        return $timeout(fn, delay);\n      };\n    });\n\n    registered = true;\n  }\n\n});\n\n\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(to /*, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n    if (args.length == 0) {\n      return {};\n    }\n    if (args.length < 2) {\n      if (!Array.isArray(to)) {\n        return to;\n      }\n      args = to;\n      to = args[0];\n    }\n    args.slice(1).forEach(function(from) {\n      to = _merge(to, from);\n    });\n    return to;\n\n    function _merge(to, from) {\n      if (!to || !from || typeof to != 'object' || typeof from != 'object' || Array.isArray(to) || Array.isArray(from)) {\n        return from;\n      }\n      Object.keys(from).forEach(function(key) {\n        if (to.hasOwnProperty(key)) {\n          to[key] = _merge(to[key], from[key]);\n        }\n        else {\n          to[key] = from[key];\n        }\n      });\n      return to;\n    }\n  };\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function(injector) {\n  var\n    angular = injector('angular');\n  return angular.element;\n});\n'use strict';\n\n/**\n * @ngdoc module\n * @name webicon\n * @description\n * Icon\n */\n\nangular.module('webicon', [])\n  .config([\n    '$provide',\n    '$compileProvider',\n    function($provide, $compileProvider) {\n      var\n        injector = createInjector(function(injector) {\n          injector('angular', function() {\n            return angular;\n          })\n        });\n      $provide.provider('$webicon', injector('IconProvider'));\n      $compileProvider.directive('webicon', injector('IconDirective'));\n    }\n  ])\n  .run([\n    '$webicon',\n    function($webicon) {\n      $webicon.$checkLazyPreload();\n    }\n  ])\n;\n\n})(window, window.angular);"],"sourceRoot":"/source/"}